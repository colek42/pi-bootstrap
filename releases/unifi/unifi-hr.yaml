apiVersion: flux.weave.works/v1beta1
kind: HelmRelease
metadata:
  name: unifi
  namespace: unifi
  annotations:
    flux.weave.works/automated: "false"
spec:
  releaseName: unifi
  chart:
    repository: https://kubernetes-charts.storage.googleapis.com/
    name: unifi
    version: 0.5.1
  values:
    strategyType: Recreate
    image:
      repository: jacobalberty/unifi
      tag: 5.12.35-arm32v7
      pullPolicy: IfNotPresent

    unifiedService:
      type: ClusterIP
      loadBalancerIP: 172.4.21.99
    guiService:
      type: ClusterIP
      port: 8443
      loadBalancerIP:
    controllerService:
      type: NodePort
      port: 8080
      annotations: {}
      labels: {}
      loadBalancerIP:
  
    stunService:
      type: NodePort
      port: 3478   # udp
      annotations: {}
      labels: {}
      loadBalancerIP:
  
    discoveryService:
      type: NodePort
      port: 10001  # udp
      annotations: {}
      labels: {}
      loadBalancerIP:
  
    ingress:
      enabled: false
      annotations: {}
      path: /
      hosts:
        - chart-example.local
      tls: []
    timezone: UTC

    persistence:
      enabled: true
      accessMode: ReadWriteOnce
      size: 5Gi

    resources: {}
      #  cpu: 100m
      #  memory: 128Mi
      # requests:
      #  cpu: 100m
      #  memory: 128Mi